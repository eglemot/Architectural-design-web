{% load static i18n %}
<div class="row">
<div class="col-md-12">
    <h2>All Plans</h2>
    <hr class="my-4">
</div>
</div>
<div id="plan-slider">
    <div id="plan-container">
    <div class="row justify-content-between">
    {% for plan in object_list %}
    <div class="col-md-3 mb-4">
        <a href="{% url 'plan_detail' plan.id %}" class="no-underline">
        <div class="card plan-card">
        {% with plan.plan_pictures.first as first_picture %}
        {% if first_picture %}
        <img src="{{ first_picture.image.url }}" alt="{{ plan.name }}">
        {% endif %}
        {% endwith %}
        <div class="card-body p-0 m-0">
            <div class="card-title">
                <span>{{ plan.name }}</span>
                </div>
            <table class="table mb-0">
            <tbody>
                <tr>
                <td class="py-2">
                    {% if plan.min_bedrooms == plan.max_bedrooms %}
                    <img src="{% static 'main_designs/icons/bed.png' %}" alt="Bedrooms icon" height="20" width="20">
                    <strong>{{ plan.min_bedrooms }}</strong> bed
                    {% else %}
                    <img src="{% static 'main_designs/icons/bed.png' %}" alt="Bedrooms icon" height="20" width="20">
                    <strong>{{ plan.min_bedrooms }}-{{ plan.max_bedrooms }}</strong> bed
                    {% endif %}
                </td>
                <td class="py-2">
                    {% if plan.min_bathrooms == plan.max_bathrooms %}
                    <img src="{% static 'main_designs/icons/bath.png' %}" alt="Bathrooms icon" height="20" width="20">
                    <strong>{{ plan.min_bathrooms }}</strong> bath
                    {% else %}
                    <img src="{% static 'main_designs/icons/bath.png' %}" alt="Bathrooms icon" height="20" width="20">
                    <strong>{{ plan.min_bathrooms }}-{{ plan.max_bathrooms }}</strong> bath
                    {% endif %}
                </td>
                
                </tr>
                <tr>
                <td class="py-2"><img src="{% static 'main_designs/icons/story.png' %}" alt="Floors icon" height="20" width="20"> <strong>{{ plan.floors }}</strong> story</td>
                <td class="py-2"><img src="{% static 'main_designs/icons/size.png' %}" alt="Heated sq. feet icon" height="20" width="20"> <strong>{{ plan.formatted_heated_sq_feet }}</strong> sq. feet</td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </a>
    </div>
    {% empty %}
    <p>No plans found</p>
    {% endfor %}
</div>
<script>
    $(document).ready(function(){
      $('#plan-slider').slick({
        slidesToShow: 4,
        slidesToScroll: 4,
        dots: true,
        responsive: [
          {
            breakpoint: 992,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 3
            }
          },
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 2
            }
          },
          {
            breakpoint: 576,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1
            }
          }
        ]
      });
    });
  </script>
</div>
  